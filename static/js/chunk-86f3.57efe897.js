(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-86f3"],{AeH8:function(a,e,t){},aZmD:function(a,e,t){"use strict";var l=t("AeH8");t.n(l).a},cNwE:function(a,e,t){"use strict";t.r(e);var l={name:"Index",data:function(){return{syncTableData:[],syncTableData2:[],dialogFormVisible:!1,syncFormData:{dbName:"",jobClassName:"",jobCron:"",pageSize:"",fullUpdate:"",sourceData:"",sourceTable:"",sourceSQL:"",sourceSQLWhere:"",targetData:"",targetTable:"",timeInterval:""},page:1,rows:10,total:0}},watch:{syncTableData:function(){this.syncTableData2=this.syncTableData}},created:function(){this.getSyncTableData()},methods:{handleSizeChange:function(a){this.rows=a,this.getSyncTableData()},handleCurrentChange:function(a){this.page=a,this.getSyncTableData()},open:function(a){2e4===a?this.$message("添加成功"):this.$message("添加失败")},add:function(){this.$http.post("http://10.10.12.252:8080/TableConfig/add",{dbName:this.syncTableData.dbName,jobClassName:this.syncTableData.jobClassName,jobCron:this.syncTableData.jobCron,pageSize:this.syncTableData.pageSize,fullUpdate:this.syncTableData.fullUpdate,sourceData:this.syncTableData.sourceData,sourceTable:this.syncTableData.sourceTable,sourceSQL:this.syncTableData.sourceSQL,sourceSQLWhere:this.syncTableData.sourceSQLWhere,targetData:this.syncTableData.targetData,targetTable:this.syncTableData.targetTable,timeInterval:this.syncTableData.timeInterval},{emulateJSON:!0}).then(function(a){this.open(a.data.code)}),this.syncTableData.dbName="",this.syncTableData.jobClassName="",this.syncTableData.jobCron="",this.syncTableData.pageSize="",this.syncTableData.fullUpdate="",this.syncTableData.sourceData="",this.syncTableData.sourceTable="",this.syncTableData.sourceSQL="",this.syncTableData.sourceSQLWhere="",this.syncTableData.targetData="",this.syncTableData.targetTable="",this.syncTableData.timeInterval=""},getSyncTableData:function(){this.syncTableData=[],this.$http.get("http://10.10.12.252:8080/TableConfig/getTasks",{params:{page:this.page,rows:this.rows}}).then(function(a){this.total=a.data.data.total;for(var e=a.data.data.list,t=0;t<e.length;t++)this.syncTableData.push({dbName:e[t].dbName,jobClassName:e[t].jobClassName,jobCron:e[t].jobCron,pageSize:e[t].pageSize,fullUpdate:e[t].fullUpdate,sourceData:e[t].sourceData,sourceTable:e[t].sourceTable,sourceSQL:e[t].sourceSQL,sourceSQLWhere:e[t].sourceSQLWhere,targetData:e[t].targetData,targetTable:e[t].targetTable,timeInterval:e[t].timeInterval})},function(a){alert(a.status+"查询出错了")})}}},s=(t("aZmD"),t("ZrdR")),n=Object(s.a)(l,function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){a.dialogFormVisible=!0}}},[a._v("添加任务")]),a._v(" "),t("el-dialog",{attrs:{visible:a.dialogFormVisible,title:"添加任务"},on:{"update:visible":function(e){a.dialogFormVisible=e}}},[t("el-form",{attrs:{model:a.syncTableData,"label-position":a.right,"label-width":"130px"}},[t("el-form-item",{attrs:{label:"数据库名称"}},[t("el-input",{model:{value:a.syncTableData.dbName,callback:function(e){a.$set(a.syncTableData,"dbName",e)},expression:"syncTableData.dbName"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"任务类名"}},[t("el-input",{model:{value:a.syncTableData.jobClassName,callback:function(e){a.$set(a.syncTableData,"jobClassName",e)},expression:"syncTableData.jobClassName"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"cron表达式"}},[t("el-input",{model:{value:a.syncTableData.jobCron,callback:function(e){a.$set(a.syncTableData,"jobCron",e)},expression:"syncTableData.jobCron"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"分页"}},[t("el-input",{model:{value:a.syncTableData.pageSize,callback:function(e){a.$set(a.syncTableData,"pageSize",e)},expression:"syncTableData.pageSize"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"全量更新标识"}},[t("el-input",{model:{value:a.syncTableData.fullUpdate,callback:function(e){a.$set(a.syncTableData,"fullUpdate",e)},expression:"syncTableData.fullUpdate"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"源数据源"}},[t("el-input",{model:{value:a.syncTableData.sourceData,callback:function(e){a.$set(a.syncTableData,"sourceData",e)},expression:"syncTableData.sourceData"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"源数据表"}},[t("el-input",{model:{value:a.syncTableData.sourceTable,callback:function(e){a.$set(a.syncTableData,"sourceTable",e)},expression:"syncTableData.sourceTable"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"源数据源查询SQL"}},[t("el-input",{attrs:{type:"textarea",autosize:""},model:{value:a.syncTableData.sourceSQL,callback:function(e){a.$set(a.syncTableData,"sourceSQL",e)},expression:"syncTableData.sourceSQL"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"增量查询where"}},[t("el-input",{model:{value:a.syncTableData.sourceSQLWhere,callback:function(e){a.$set(a.syncTableData,"sourceSQLWhere",e)},expression:"syncTableData.sourceSQLWhere"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"目标数据源"}},[t("el-input",{model:{value:a.syncTableData.targetData,callback:function(e){a.$set(a.syncTableData,"targetData",e)},expression:"syncTableData.targetData"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"目标数据表"}},[t("el-input",{model:{value:a.syncTableData.targetTable,callback:function(e){a.$set(a.syncTableData,"targetTable",e)},expression:"syncTableData.targetTable"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"时间间隔"}},[t("el-input",{model:{value:a.syncTableData.timeInterval,callback:function(e){a.$set(a.syncTableData,"timeInterval",e)},expression:"syncTableData.timeInterval"}})],1)],1),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.dialogFormVisible=!1}}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){a.dialogFormVisible=!1,a.add()}}},[a._v("确 定")])],1)],1),a._v(" "),t("el-table",{staticClass:"manual-table1",staticStyle:{width:"100%"},attrs:{data:a.syncTableData2,fit:"","element-loading-text":"Loading",border:"",size:"mini","highlight-current-row":""}},[t("el-table-column",{attrs:{prop:"dbName",label:"数据库名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"sourceData",label:"源数据源"}}),a._v(" "),t("el-table-column",{attrs:{prop:"sourceTable",label:"源数据表",width:"250"}}),a._v(" "),t("el-table-column",{attrs:{prop:"sourceSQLWhere",label:"增量查询where",width:"400"}}),a._v(" "),t("el-table-column",{attrs:{prop:"targetData",label:"目标数据源"}}),a._v(" "),t("el-table-column",{attrs:{prop:"targetTable",label:"目标数据表",width:"300"}}),a._v(" "),t("el-table-column",{attrs:{prop:"timeInterval",label:"时间间隔"}})],1),a._v(" "),t("el-pagination",{attrs:{"current-page":a.page,"page-sizes":[10,20,30],"page-size":a.rows,total:a.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){a.page=e},"current-change":a.handleCurrentChange,"size-change":a.handleSizeChange}})],1)},[],!1,null,"37798c51",null);n.options.__file="index.vue";e.default=n.exports}}]);